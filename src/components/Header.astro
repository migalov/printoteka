---
import BurgerButton from "../components/BurgerButton.astro";
import Logo from "../components/Logo.astro";
import Preheader from "../components/Preheader.astro";
import Empty from "../empty.astro";
---

    <header class="print-header-root">
        <Preheader />
        <div class="print-header-blocks container">
            <div class="print-header-mobile-head">
                <Logo />
                <div class="print-header-buttons">
                    <a href="tel:+74952150013" class="print-button print-button--secondary print-button--small">
                        <svg width="24" height="24">
                            <use xlink:href="/img/sprites.svg#call"></use>
                        </svg>
                    </a>
                    <BurgerButton />
                </div>
            </div>
            <div class="print-header-mobile-menu-block">
                <ul class="print-header-user-action list">
                    <li class="print-header-user-action__login category-item">
                        <label for="authorize-user">
                            <svg width="24" height="24">
                                <use xlink:href="/img/sprites.svg#user"></use>
                            </svg>
                            <span>Михаил</span>
                        </label>
                        <input class="print-header-user-action__checkbox" hidden type="checkbox" id="authorize-user" />
                        <ul class="print-header-user-action__login-dropdown">
                            <li><a href="#">Мои заказы</a></li>
                            <li><a href="#">Мои дизайны</a></li>
                            <li><a href="#">Скидки и купоны</a></li>
                            <li><a href="#">Данные компании</a></li>
                            <li><a href="#">Выйти</a></li>
                        </ul>
                    </li>
                    <li class="category-item">
                        <a href="#">
                            <svg width="24" height="24">
                                <use xlink:href="/img/sprites.svg#cart"></use>
                            </svg>
                            <span>Корзина</span>
                        </a>
                    </li>
                </ul>

                <div class="navigation navigation-3983 print-main-menu">
                    <ul class="list">
                        <li class="category-item "><a href="#"><i class=""></i>Преимущества</a></li>
                        <li class="category-item "><a href="#"><i class=""></i>Каталог</a></li>
                        <li class="category-item "><a href="#"><i class=""></i>Отзывы</a></li>
                        <li class="category-item "><a href="#"><i class=""></i>Контакты</a></li>
                        <li class="category-item "><a href="#"><i class=""></i>FAQ</a></li>
                    </ul>
                </div>

                <div class="navigation navigation-4002 print-header-mobile-contacts">
                    <a class="h3" target="_blank" href="tel:+74952150013">+7 (495) 215-00-13</a>
                    <ul class="list">
                        <li class="category-item">
                            <a target="_blank" href="https://vk.com/printoteka">
                                <svg class="icon" width="32" height="32" style="filter: invert(1); opacity: .7">
                                    <use xlink:href="/img/sprites.svg#icon-vk"></use>
                                </svg>
                            </a>
                        </li>
                        <li class="category-item ">
                            <a target="_blank" href="https://vk.com/printoteka" data-tr="">
                                <svg class="icon" width="32" height="32" style="filter: invert(1); opacity: .7">
                                    <use xlink:href="/img/sprites.svg#icon-tg"></use>
                                </svg>
                            </a>
                        </li>
                    </ul>
                </div>

                <a href="#" class="print-lets-partners print-button print-button--primary print-button--small">Запартнериться</a>
            </div>

        </div>    
    </header>

<style lang="scss">
    @use "../styles/media.scss" as *;
    body {
        display: flex;
        flex-direction: column;
        padding: var(--header-height) 0 0;
    }
    .print-header-root {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        background-color: #FFF;
        z-index: 2;
    }
    .print-header-blocks {
        position: relative;
        display: flex;
        flex-direction: column;

        & .list {
            display: flex;
            flex-direction: column;
            gap: 1.5em;
            @include respond(sm) {
                flex-direction: row;
            }
        }

        @include respond(sm) {
            flex-direction: row;
            min-height: initial;
            justify-content: space-between;
            padding-top: clamp(0rem, -0.264rem + 1.127vw, 0.75rem);
            padding-bottom: clamp(0rem, -0.264rem + 1.127vw, 0.75rem);
        }
    }
    .print-header-mobile-head {
        display: flex;
        align-items: center;
        padding-top: 1rem;
        padding-bottom: 1rem;

    }
    .print-header-buttons {
        display: flex;
        align-items: center;
        gap: .75rem;
        & .print-button {
            cursor: pointer;
            display: inline-flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5em;
            padding: 0;
            width: 1.5em;
            aspect-ratio: 1/1;
            border-radius: 7px;
        }
        @include respond(sm) {
            display: none;
        }
    }
    .print-header-mobile-menu-block {
        position: absolute;
        top: var(--header-height);
        left: 0;
        right: 0;
        background-color: #FFF;
        display: grid;
        gap: 1rem;
        padding: 1rem;
        grid-template-areas: "ua" "mm" "c" "p";
        transform: translateX(-100vw);
        transition: transform .7s;
        opacity: 0;
        @include respond(sm) {
            position: static;
            grid-template-areas:  "mm mm" "ua p";
            align-items: center;
            padding: 1rem 0;
            transform: inherit;
            opacity: 1;
        }
        @include respond(md) {
            flex: 1;
            grid-template-areas:  "mm ua p";
            grid-template-columns: auto auto 10.4rem;
            margin: 0 0 0 clamp(0rem, -7.75rem + 12.5vw, 3.5rem);
        }
        &.open {
            transform: translateX(0);
            opacity: 1;
        }
        &::after {
            content: "";
            position: absolute;
            width: 100%;
            height: 100px;
            background: rgba(0,0,0,.5);
            top: 100%;
            height: 100%;
            transition: background 5s ease .5s;
            @include respond(sm) {
                content: none;
            }
        }
    }

    .print-header-user-action {
        padding: 0 0 1rem 0;
        border-bottom: 1px solid rgba(52,52,52,.15);
        grid-area: ua;
        & i {
            font-size: 1.1em;
        }
        & :is(a, label) {
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: .5em;
            font-weight: inherit;
            transition: ease .2s;
            &:hover {
                color: var(--pxp-action-main);
                & svg {
                    filter: brightness(0) saturate(100%) invert(46%) sepia(98%) saturate(3022%) hue-rotate(1deg) brightness(105%) contrast(103%);
                }
            }
            
        }
        @include respond(sm) {
            padding: 0;
            border-bottom: none;
            justify-content: flex-end;
        }
    }

    .print-header-user-action__login {
        position: relative;
    }

    .print-header-user-action__login-dropdown {
        position: absolute;
        top: calc(100% + 1em);
        left: 0;
        display: flex;
        flex-direction: column;
        gap: .75em;
        width: max-content;
        padding: 1.25em;
        border-radius: 1.25em;
        background-color: var(--custom-background-page);
        box-shadow: 0px 0px 6.2px 3px rgba(43, 43, 43, 0.1);
        opacity: 0;
        pointer-events: none;
        transition: opacity .2s;
    }
    
    .print-header-user-action__checkbox {
        &:checked + .print-header-user-action__login-dropdown {
            opacity: 1;
            pointer-events: inherit;
        }
    }

    .print-main-menu {
        grid-area: mm;
        & .list {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            @include respond(sm) {
                display: flex;
                flex-direction: row;
            }
        }

    }

    .print-header-mobile-contacts {
        display: flex;
        flex-direction: column;
        gap: 1.25rem;
        grid-area: c;
        & .list {
            flex-direction: row;
            gap: .75rem;
            & a {
                font-size: 2rem;
            }
        }
        @include respond(sm) {
            display: none;
        }

    }
    .print-lets-partners {
        grid-area: p;
    }
</style>

<script is:inline>
    let headerRoot = document.querySelector(".print-header-root");
    const changePositionMenu = () => {
        document.body.style.setProperty('--header-height', `${headerRoot.clientHeight}px`);
    }
    changePositionMenu();
    window.addEventListener("resize", changePositionMenu);
    
</script>